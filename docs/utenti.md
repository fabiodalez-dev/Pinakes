# Guida alla Gestione Utenti

## Introduzione

Questa guida spiega come funziona la gestione degli utenti in Pinakes, sia dal punto di vista dell'**utente che si registra**, sia da quello dell'**amministratore che gestisce gli account**.

---

## ‍‍ Tipi di Utenti (Ruoli)

Nel sistema esistono principalmente due tipi di utenti:

| **Ruolo** | **Cosa può fare** | **Chi è di solito** |
|-----------|-------------------|---------------------|
| **Utente Standard** | - Cercare libri<br>- Richiedere prestiti<br>- Gestire il proprio profilo<br>- Salvare preferiti | Studenti, cittadini, membri della biblioteca |
| **Amministratore** | - **Tutto** quello che fa un utente<br>- Aggiungere e modificare libri<br>- Approvare nuovi utenti<br>- Gestire tutti i prestiti<br>- Modificare le impostazioni | Bibliotecari, responsabili della biblioteca |

---

## Processo di Registrazione per un Nuovo Utente

Un nuovo utente deve seguire 4 semplici passi per ottenere un account attivo.

### Passo 1: Compilazione del Modulo di Registrazione
1.  **Vai alla pagina di registrazione** del sito.
2.  **Compila i campi richiesti**:
    -   Nome e Cognome
    -   Indirizzo Email (deve essere valido!)
    -   Password (scegline una sicura)
3.  **Accetta i termini di servizio**.
4.  **Clicca su "Crea Account"**.

### Passo 2: Verifica dell'Email
1.  Dopo la registrazione, il sistema invia un'**email automatica** all'indirizzo fornito.
2.  **Apri l'email** e **clicca sul link di verifica**.
3.  Questo conferma che l'indirizzo email è reale e appartiene a te.

>  **Importante**: Se non ricevi l'email entro 5 minuti, controlla la cartella **Spam** o Posta Indesiderata.

### Passo 3: Attesa dell'Approvazione dell'Amministratore
1.  Una volta verificata l'email, il tuo account entra in uno stato di **"In attesa di approvazione"**.
2.  **Non puoi ancora accedere** al sistema.
3.  Un **amministratore** deve rivedere la tua richiesta e approvarla manualmente. Questo garantisce che solo persone autorizzate accedano alla biblioteca.

### Passo 4: Account Approvato e Accesso
1.  Quando l'amministratore approva il tuo account, riceverai un'**email di benvenuto**.
2.  Questa email conterrà:
    -   La conferma che il tuo account è attivo.
    -   Il tuo **codice tessera** univoco (se previsto dal sistema).
3.  Ora puoi **accedere al sistema** con la tua email e password.

---

## ‍ Gestione Utenti per l'Amministratore

### Dove Trovare la Gestione Utenti
1.  **Accedi** come Amministratore.
2.  Vai su **Dashboard → Utenti**.

Vedrai una tabella con l'elenco di tutti gli utenti registrati.

### Azioni Principali dell'Amministratore

#### 1. Approvare Nuovi Utenti
-   Nella lista utenti, vedrai i nuovi account con lo stato **"In attesa di approvazione"** (di solito evidenziati in giallo).
-   Clicca sull'icona  **"Approva"** accanto al nome dell'utente.
-   L'utente riceverà l'email di benvenuto e potrà accedere.

#### 2. Visualizzare i Dettagli di un Utente
-   Clicca sul nome di un utente per vedere la sua **scheda completa**:
    -   Dati anagrafici.
    -   Storico dei prestiti.
    -   Prestiti attualmente in corso.
    -   Eventuali ritardi.

#### 3. Modificare un Utente
-   Dalla lista o dalla scheda utente, clicca sull'icona  **"Modifica"**.
-   Puoi cambiare:
    -   Nome e cognome.
    -   Email (con cautela, l'utente dovrà usare la nuova email per accedere).
    -   Ruolo (es. da Utente Standard ad Amministratore).
    -   Stato dell'account.

#### 4. Gestire lo Stato di un Account
Puoi cambiare lo stato di un account in qualsiasi momento:

| **Stato** | **Significato** | **Quando usarlo** |
|-----------|-----------------|-------------------|
| **Attivo** | L'utente può accedere e richiedere prestiti. | Stato normale. |
| **Sospeso** | L'utente non può accedere temporaneamente. | Per violazioni minori o ritardi ripetuti. |
| **Bloccato** | L'utente è bannato permanentemente. | Per violazioni gravi. |
| **In attesa** | In attesa di approvazione. | Stato di default per i nuovi iscritti. |

#### 5. Eliminare un Utente
-   Clicca sull'icona  **"Elimina"**.
-   Ti verrà chiesta una **conferma**.

>  **Attenzione**: L'eliminazione di un utente è **permanente** e cancellerà anche tutto il suo storico prestiti. Usa questa opzione con estrema cautela. Non puoi eliminare un utente se ha prestiti attivi.

---

## Domande Frequenti

**D: Perché la mia registrazione deve essere approvata?**
R: Per motivi di sicurezza e per garantire che solo i membri della comunità (studenti, cittadini, ecc.) possano utilizzare le risorse della biblioteca.

**D: Quanto tempo ci vuole per l'approvazione?**
R: Di solito da poche ore a 1-2 giorni lavorativi, a seconda della disponibilità dell'amministratore.

**D: Cosa faccio se ho dimenticato la password?**
R: Nella pagina di login, clicca su "Password dimenticata?". Inserisci la tua email e riceverai un link per reimpostarla.

**D: Posso cambiare la mia email o la mia password?**
R: Sì. Una volta effettuato l'accesso, vai sul tuo **Profilo** per cambiare la password. Per cambiare l'email, potrebbe essere necessario contattare un amministratore.

**D: Cosa succede se un utente viene eliminato?**
R: Tutte le sue informazioni, inclusi i prestiti passati, vengono rimosse dal database. Se l'utente aveva prestiti attivi, il sistema impedirà l'eliminazione finché non saranno restituiti.

---
*Ultimo aggiornamento: 14 Novembre 2025*
*Versione guida: 1.0.0*
