# Environment Configuration - Pinakes
# Copy this file to .env and configure for your environment
# IMPORTANT: Keep .env secure and never commit it to version control

# Database Configuration
DB_HOST=localhost
DB_USER=your_database_user
DB_PASS=your_database_password
DB_NAME=biblioteca
DB_PORT=3306
DB_SOCKET=

# Application Environment
# Set to 'production' for live environments, 'development' for local dev
APP_ENV=development

# Canonical application URL (used for redirects, sitemap, robots.txt, emails)
# IMPORTANT: Also used for email links (verification, password reset, notifications)
# This ensures email links always point to your production domain, even when
# emails are triggered from CLI/localhost (e.g., cron jobs, queue workers)
# Example: https://biblioteca.fabiodalez.it
# Leave empty for development (will auto-detect from HTTP_HOST)
APP_CANONICAL_URL=

# Debug Mode
# Set to 'true' for development, 'false' for production
# MUST be false in production for security reasons
APP_DEBUG=true

# Plugin Encryption Key
# Used to encrypt sensitive plugin settings (API keys, passwords)
# Auto-generated during installation - regenerate if compromised
# Format: base64:<32-byte-random-key-base64-encoded>
# To generate: php -r "echo 'base64:' . base64_encode(random_bytes(32)) . PHP_EOL;"
PLUGIN_ENCRYPTION_KEY=

# Session Security
# Session lifetime in seconds (default: 3600 = 1 hour)
SESSION_LIFETIME=3600

# Force HTTPS
# Set to 'true' to enforce HTTPS redirects, 'false' to allow HTTP
# RECOMMENDED: true in production with valid SSL certificate
FORCE_HTTPS=false

# Display Errors
# Set to 'true' for development, 'false' for production
# Controls PHP error display (errors are always logged)
# MUST be false in production (errors logged instead of displayed)
DISPLAY_ERRORS=true

# Logging Configuration (Optional - defaults are production-optimized)
# Enable async buffered logging for better performance in production
# Default: true in production, false in development
LOG_ASYNC_ENABLED=true

# Number of log entries to buffer before flushing to disk
# Higher = better performance, lower = less data loss risk if crash
# Default: 50
LOG_BUFFER_SIZE=50

# Seconds before forcing buffer flush to disk
# Lower = more frequent writes, higher = better performance
# Default: 5 seconds
LOG_BUFFER_TIMEOUT=5

# Email Configuration
# NOTE: Email settings (SMTP, sender, templates) are configured via Admin Panel
# Navigate to: Admin → Settings → Email Configuration
# This keeps sensitive SMTP credentials in the database, not in files
# Email templates are also managed via: Admin → Settings → Email Templates

# Notes for Production:
# 1. Set APP_ENV=production
# 2. Set APP_DEBUG=false
# 3. Set DISPLAY_ERRORS=false
# 4. Set APP_CANONICAL_URL to your production domain (e.g., https://biblioteca.example.com)
# 5. Set FORCE_HTTPS=true (with valid SSL certificate)
# 6. Use strong database credentials
# 7. Configure HTTPS on your web server
# 8. Set proper file permissions (755 for app, 777 for uploads/storage/backups)
# 9. Configure automated database backups
# 10. Configure email settings via Admin Panel

# Notes for Development:
# 1. Set APP_ENV=development
# 2. Set APP_DEBUG=true
# 3. Set DISPLAY_ERRORS=true
# 4. Use local database credentials
